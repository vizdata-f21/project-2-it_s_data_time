---
urlcolor: red
---

Dashboard
================
Team It’s Data Time: Raffay Rana, Krystal Hu, Davis Jones, Martha
Aboagye

# Introduction:

The overall goal of our project is to build an interactive dashboard for users to explore movie data. To achieve this, we used shinyapp to create an interactive interface to visualize IMBd movie data. We ended up breaking our dashboard into [3] sections, each of which has a theme, such as genre, ratings, or movie cast. The visualizations in each tab explore some sort of relationship that is relevant to the theme. Within each section of the dashboard, users have the ability to toggle the visualization by a set of parameters to customize the data to their liking. We also made sure to make each of the visualizations as accessible to those with color deficiencies by using the viridis scale on colored visualizations. 

The data we use in our analysis comes from <a href="https://www.kaggle.com/stefanoleone992/imdb-extensive-dataset?select=IMDb+movies.csv" style = "color: black; background-color: white"> Kaggle</a>. This data is broken up into csv files, and we use three of them in our analysis, `IMDbmovies.csv`, `IMDbtitle_principals.csv`, and `IMDbtitle_principals.csv`. The `IMDbmovies.csv` dataset contains data on movies with more than 100 votes scraped from the IMDb website uptill 01/01/2020. The  dataset has `85855` observations and `22` variables.   For our secondary datasets, the `IMDbtitle_principals.csv` dataset has has `835513` observations and `6` variable and the `IMDBratings` has  `85855` observations and `49` variables. To improve the performance of our shiny app we ran a r script to wrangle data and saved the new dataset into the age_gender_data.csv file. 



The motivation behind this project is multifaceted. First off, we all believe that movies are incredibly interesting to analyze, as there are so many different avenues to pursue. A dashboard helps facilitate exploration, as it makes it easy to separate out information and allow users to focus on the variables of their choosing. Secondly, we were very pleased with the dataset we found. It is quite extensive and mostly complete, and we felt confident that with such a great dataset, we could remain nimble in case we ran into issues as we started building our dashboard. Lastly, we wanted to create a higher-level user experience and try something new in R. None of us have used shiny or built a dashboard before, but we all wanted to take on the challenge as we knew the end result would be both quality and engaging. 


# Dashboard Layout. 

This dashboard contains 4 tabs: Opening credits, Everyone's A Critic, A Net of
Stars Tab and  Guess the Genre Tab.

## Opening Credits Tab

This tab contains this writeup and contextualizes the project.

## Everyone's A Critic Tab:

In the ratings tab, we wanted to look at how different variables affect the way movies are rated. The principal relationship we examine in this section is the relationship between geography and rating. Users have the ability to select which countries they would like to include in their analysis. Once they have done this, users can span across the different tabs to further explore how movie ratings vary based on age, gender, year, and budget. We also thought it would be interesting to examine which directors’ movies had the highest average rating, so we also included a table that shows the most highly-rated directors for the geographies selected. We built in various functionalities in this tab--like the ability to switch chart types, customize time periods, and change the number of items displayed. In total, we believe that having these items give users the ability to dive deep into movie ratings and explore numerous fascinating relationships. 

We used the `ratings` and `movies` datasets for this section. From the `movies` dataset, we used the `country`, `budget`, ‘director’ and`year` variables. From the `ratings` dataset, we used the `mean_vote` and `median_vote` variables. Note, we only included countries that made at least 1000 movies over the time period we examined. This was done in an effort to speed up the dashboard and avoid unnecessary data. Furthermore, some movies had multiple countries listed. Since they were ordered by significance, for countries with more than 2 movies, we only kept the two principal countries to avoid unnecessary cataloging. 

The goal of the first tab was to show the relationship between rating, age, gender, and duration. This is done through two violin plots that show the distribution of mean ratings for feature films (defined as duration 41-150 mins) and long films (defined as duration >150 mins). These are then faceted by age categories and finally the radio button underneath the plot allows users to toggle between male and female reviewers. This plot is meant for users who might be interested in looking at how mean ratings differ between genders and age groups among different countries, potentially unveiling interesting cultural insights. Similarly, we decided to divide the movies into two separate duration categories to allow users to get a better sense of how the mean ratings differed with respect to duration, and whether a specific duration category was preferred by a particular gender, age group, or country. 

The second tab shows two relationships: rating and budget and rating and time. The first relationship is demonstrated with a 100% stacked bar graph and a dodged bar graph. The 100% stacked bar chart shows the proportion makeup of ratings and the dodged bar chart complements this information by also showing the count and allowing users to see how many movies got a certain rating. We also added a ratings categories radio button that allows users to see 3 different rating categories and their respective budget and counts instead of having all ratings from 1-10. This was primarily aimed for users looking for a broader view of rating distribution with respect to budget as it was easier to follow than the visualization with all ratings.

The third tab shows highly rated directors in a table. Users can pick how many top directors they would like to display. They can also specify a minimum number of films that they would like those directors to have made (many of them have just directed 1). We wanted this chart to be simple so that users could quickly interpret who the top directors are based on their inputs. We feel that it is effective at doing so, and gives a quick summary of necessary information: director name, country, average rating of movies, and the number of movies they directed in the dataset. 
Provide any useful takeaways / speculations from the analysis



## A Net of Stars Tab

The main purpose of this tab was to explore the connection between the different roles people inhabit in the process of making movies. With this tab, we wanted to create a way to visualize the connection between actors, directors and writers.  We wanted users to be able to explore the relationships from any starting point. So for example, we want people to be able to select a director and explore their relationship to actors or writers or start from an actor and visualizer their connection to other directors and writers.   The dataset used for  this analysis was the movies dataset. Specifically, we focused on the variables `year`, `actors`, `directors` and `writers`.   We also created a categorical century variable that indicates which century the film is based in and makes it easier to search for user input. 

After users select which director, actor or writer and the specific connection they want to visualize, we generate a directed network plot that shows the connection between the person they searched for and their most frequent collaborators.  We thought a network plot with the person of interest as the center vertex makes the most sense because it provides an intuitive  visual representation of the connection,  The edges between the vertices indicates the frequency of the collaboration between them. We also generate a table under  the plot that shows the underlying data used to create the plot. 

##  Guess the Genre Tab:

The main purpose of this tab was to explore how films in different genres were produced and rated differently. We wanted to create visualizations that compare how films made in each genre change from year to year (1900-2020 in this dataset), both in terms of number of production as well as average ratings across all listings within the genre in that said year. In addition, with a heat map, we’d also like to explore which countries around the world are the main production powerhouse for different genres.
As there exist thousands of ways movies were categorized in the original dataset,  we cleaned variable ‘genre’ into the basic sixteen film <a href="https://www.premiumbeat.com/blog/guide-to-basic-film-genres" style = "color: black; background-color: white"> categories </a>. We also calculated the average rating score amongst all of the movies made in each genre by year. In addition, there are a handful of movies that have more than one country listed under their country of origin. For mapping purposes and the custom in the film-making industry of placing the main production country to the front of the list, we only used the first country listed as country of origin when creating the heat map.


As users input their preferred choice of movie genre to explore, one at a time, the corresponding histogram and heat map also changes based on the input. First, histogram is great for visualizing continuous temporal data and seeing how the same variable - in our case, the number of movies produced under each genre - changes over time by the height of the bars. For example, we can see the production rate of ‘Drama’ and ‘Horror’ films picked up at scale dramatically towards the end of the 90s and throughout the 2000s; it is also clear that ‘Animation’ didn’t pick up momentum for production until the 1950s. Something we also did was to shade each bar (movies under one genre made in each year) by their average ratings. The brighter (more yellow) the bar is, the higher the average rating score. For example, ‘Romance’ was rated much better before the 1980s than after; ‘Drama’ on average was the best performing genre; while genres such as ‘Musical’, ‘Mystery’, and ‘Western’ all got comparatively better reviews, probably due to their smaller sample size compared to the other genres.

The second visualization - the heat map - displayed the total number of movies made by countries around the world under each genre, between 1900 and 2020. The more movies a country had produced for said genre, the lighter the color it had on the map. Most of the movies included in this dataset were produced from the U.S.; Shades for other countries would occasionally have a detectable change from genre to genre. For example, India had a sizable share of production for the following genres - ‘Action’, ‘Comedy’, ‘Drama’, and ‘Romance’ - after the U.S.; Same trend is spotted with Japan for the production of ‘Animation’. Meanwhile, the majority of the world map - besides Northern America, New Zealand, and part of Europe - disappeared for movies listed under genre ‘Western,’ meaning that there was no documented record in this dataset for ‘Western’ movies made by non-western countries.


We saw the genre ‘Western’ had a major rise-to-fame between the 1950s and 1970s. After some research on “Why Western movies were so popular in the 1960s,” we found that from 1949 to the late '60s, there were over 100 western series that aired on the networks. By 1959, Westerns became so popular that they dominated other prime time TV series. We speculated the reason beyond western’s rising popularity was mainly because of the invention of family television. Before television, the nation only saw westerns at movie theaters and listened to them over the radio. When westerns started appearing on TV, people couldn't wait to watch it from the comfort of their home and of course they often received the highest viewer <a href="https://www.nypl.org/blog/2012/12/01/tv-westerns-1950s-and-60s" style = "color: black; background-color: white"> ratings</a>. We also saw the genre “Horror” films had a sharp production increase from the late 1990s into the 2000s. We wondered why the early 2000s was such a great growth period for horror movies worldwide. We speculated that it might be the early days of CGI and other new technology such as computer animation and the early use of internet that had given rise to all the more possible ways of making a horror movie. This rise is in part also because of improved global communication as more cultures and populations adopted the use of the internet, international cinema began to have a broader impact in  the global popularity.


# Conclusion

Our intuition when starting this project was correct: there is a lot to explore with movies! Even when only focusing on three main variables--ratings, genres, and cast--we found there was still lots of information to extract. We were happy that there were many interesting findings in our work. For example, in the US and UK, the relationship between budget and rating is not what one may think: the highest rated movies usually do not have the biggest budgets and lowest rated movies usually do not have the smallest budgets. In general, too, we all enjoyed the experience of building an interactive dashboard and believe it is a skill we will certainly use in the future. 
